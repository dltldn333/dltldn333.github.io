---
title: "[컴퓨터시스템]GCC 명령어와 활용 알아보기(작성중)"
date: 2025-04-21 20:37:00 +0900
tags: [CSAPP, 컴퓨터시스템, C언어]
categories: [CSAPP]
image:
  path: /assets/img/posts/hello/블로그시작.jpeg
  alt: []
excerpt: ""
pin: flase
---

vsCode를 사용하면 **"F5"버튼으로 간단**하게 c를 컴파일 할 수 있다.

자동으로 gcc컴파일과정이 수행된다.

직접 **gcc명령어를 사용하던 사람**들도 있고 **아닌 사람**들도 있겠지만 **컴파일 과정을 자세히 들여다**보고 싶으면 필연적으로 **gcc 명령어를 사용**해야한다.

**놀랍게도 이 과정은 생각보다 재미있다.**

gcc는 과거에도 gcc였고 현재에도 gcc지만 과거의 gcc는 **GNU C Compiler**를 의미했고 1999년부터 현재까지는 **GNU Compiler Collection**을 의미한다. 오직 C언어를 위한 전용 컴파일러에서 여러 언어를 지원하는 컴파일러 프레임워크로 발전했기 때문이다.

여기서 **GNU**는 무엇일까? **GNU**는 일단 **"GNU's Not Unix!"**의 약자이다. 여기서 나오는 **GNU**역시 **"GNU's Not Unix!"**의 약자다. 그렇다. 아주 재밌는 재귀 약자이다. 간단하게 말하면 **GNU**는 자유롭게 사용할 수 있는 **유닉스 스타일 운영체제**를 만들기 위한 프로젝트이자 그 시스템의 이름이다.

**서론이 길었다. 시작해보자.**

# GCC 명령어




### 자주 사용되는 gcc 옵션

| 옵션 | 설명 |
| --- | --- |
| `-o <파일명>` | 출력 파일 이름 지정 (기본은 `a.out`) |
| `-c` | 컴파일만 하고 링크는 하지 않음 → `.o` 오브젝트 파일 생성 |
| `-Wall` | 모든 경고 메시지 출력 |
| `-Wextra` | 추가적인 경고 메시지 출력 |
| `-g` | 디버깅 정보를 포함 (`gdb`용) |
| `-O0`, `-O1`, `-O2`, `-O3` | 최적화 수준 (0은 비활성, 3은 최고) |
| `-std=c99` 등 | C 표준 지정 (`c89`, `c99`, `c11` 등) |
| `-I<디렉토리>` | 헤더파일 포함 경로 추가 |
| `-L<디렉토리>` | 라이브러리 경로 추가 |
| `-l<라이브러리명>` | 라이브러리 링크 (`-lm`은 math.h) |
| `-E` | 전처리만 수행 (`#include`, `#define` 처리 결과만 출력) |
| `-S` | 어셈블리 코드로 변환한 결과 출력 (`.s` 파일 생성) |
| `-v` | 컴파일 과정 자세히 보기 |

위는 **자주 사용되는 gcc옵션**들이긴 하나 현재 우리에게 조금 더 필요한 옵션들만 선정해보자.

우리가(내가) 원하는 것은 컴파일과정에서 파일들이 어떻게 변하는 지에 관해서다.

아래는 커파일 흐름의 순서이다.
1. 전처리 (Preprocessing)
2. 컴파일 (Compilation)
3. 어셈블 (Assembly)
4. 링킹 (Linking)

위 과정을 뜯어보기 위해서 필요한 옵션들을 지금부터 설명하겠다.

`-E` 

``` bash 
gcc -E main.c -o main.i
```

`-S`
`-c`
`-o`